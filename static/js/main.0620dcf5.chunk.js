(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{44:function(t,e,c){},64:function(t,e,c){"use strict";c.r(e);var n=c(0),a=c(1),r=c.n(a),o=c(12),i=c.n(o),s=c(6),u=(c(44),c(7)),j=c.n(u);var l=function(t){var e=t.title,c=t.children;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("section",{className:j.a.decor,children:[Object(n.jsx)("div",{className:j.a.leftDecor}),Object(n.jsx)("div",{className:j.a.rightDecor}),Object(n.jsx)("div",{className:j.a.circleDecor}),Object(n.jsxs)("div",{className:j.a.innerDecor,children:[Object(n.jsx)("h3",{className:j.a.titleDecor,children:e}),c]})]})})},b=c(21),f=c(20),O=c.n(f),d=c(32),h=c(11),p=c.n(h),m=c(2),x=Object(m.b)("contacts/fetchContactRequest"),v=Object(m.b)("contacts/fetchContactSuccess"),C=Object(m.b)("contacts/fetchContactError"),_=Object(m.b)("contacts/addContactRequest"),g=Object(m.b)("contacts/addContactSuccess"),D=Object(m.b)("contacts/addContactError"),y=Object(m.b)("contacts/deleteContactRequest"),L=Object(m.b)("contacts/deleteContactSuccess"),w=Object(m.b)("contacts/deleteContactError"),N=Object(m.b)("contacts/filter"),k=Object(m.b)("contacts/uniqName");p.a.defaults.baseURL="http://localhost:4040";var E=c(13),S=function(t){return t.contacts.items},F=function(t){return t.contacts.filter},q=Object(E.a)([S,F],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),R=function(t){return t.contacts.loading},A=function(t){return t.contacts.error};var G=function(){var t=Object(a.useState)(""),e=Object(b.a)(t,2),c=e[0],r=e[1],o=Object(a.useState)(""),i=Object(b.a)(o,2),u=i[0],j=i[1],l=Object(s.c)(S),f=Object(s.b)(),O=function(t,e){return f(function(t,e){return function(c){var n={name:t,tel:e};c(_()),p.a.post("/contacts",n).then((function(t){return c(g(t.data))})).catch((function(t){return c(D(t))}))}}(t,e))},d=function(t){return!!l.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))?(alert("".concat(t," is already in contacts")),h(),!1):t&&u?f(k(t)):(alert("Empty field"),!1)},h=function(){r(""),j("")};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),d(c)){var e=function(t){var e=t.split("");return"+38 (".concat(e[0]).concat(e[1]).concat(e[2],") ").concat(e[3]).concat(e[4]).concat(e[5],"-").concat(e[6]).concat(e[7],"-").concat(e[8]).concat(e[9])}(u);O(c,e),h()}},autoComplete:"off",children:[Object(n.jsx)("input",{type:"text",name:"name",value:c,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",onChange:function(t){r(t.target.value)}}),Object(n.jsx)("input",{type:"tel",name:"tel",value:u,pattern:"[0-9]{10}",placeholder:"067 123 45 67",minLength:"10",maxLength:"10",onChange:function(t){j(t.target.value)}}),Object(n.jsx)("input",{type:"submit",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442"})]})})},J=c(8),K=c.n(J);var M=function(){var t=Object(s.b)();Object(a.useEffect)((function(){t(function(){var t=Object(d.a)(O.a.mark((function t(e){var c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(x()),t.prev=1,t.next=4,p.a.get("/contacts");case 4:c=t.sent,e(v(c.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(C(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())}),[t]);var e=Object(s.c)(q),c=Object(s.c)(R),r=Object(s.c)(A),o=function(e){return t(function(t){return function(e){e(y(t)),p.a.delete("/contacts/".concat(t)).then((function(){return e(L(t))})).catch((function(t){return e(w(t))}))}}(e))};return Object(n.jsxs)(n.Fragment,{children:[!c&&!r&&e.length<1&&Object(n.jsx)("p",{className:K.a.text,children:"\u041d\u0435\u0442 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432"}),Object(n.jsx)("ul",{className:K.a.contactsList,children:e.length>0&&e.map((function(t){var e=t.id,c=t.name,a=t.tel;return Object(n.jsxs)("li",{className:K.a.contact,children:[Object(n.jsx)("span",{className:K.a.name,children:c}),Object(n.jsx)("span",{className:K.a.phone,children:Object(n.jsx)("a",{href:"tel:+".concat(a.toString().replace(/[^\d;]/g,"")),children:a})}),Object(n.jsx)("button",{className:K.a.btnDeleteContact,type:"button",onClick:function(){return o(e)},children:"x"})]},e)}))}),c&&Object(n.jsx)("h3",{children:" \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 ..."}),r&&Object(n.jsx)("h3",{children:r.message})]})};var Q=function(){var t=Object(s.c)(F),e=Object(s.b)();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("input",{type:"text",name:"filter",value:t,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438 ...",onChange:function(t){return e(N(t.target.value))},autoComplete:"off"})})};var T,z,B,I=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(l,{title:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u0430\u044f \u043a\u043d\u0438\u0433\u0430",children:Object(n.jsx)(G,{})}),Object(n.jsxs)(l,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432",children:[Object(n.jsx)(Q,{}),Object(n.jsx)(M,{})]})]})},U=c(15),V=c(3),X=c(4),H=Object(m.c)([],(T={},Object(V.a)(T,v,(function(t,e){return e.payload})),Object(V.a)(T,g,(function(t,e){var c=e.payload;return[].concat(Object(U.a)(t),[c])})),Object(V.a)(T,L,(function(t,e){var c=e.payload;return t.filter((function(t){return t.id!==c}))})),Object(V.a)(T,k,(function(t){return t})),T)),P=Object(m.c)("",Object(V.a)({},N,(function(t,e){return e.payload}))),W=Object(m.c)(!1,(z={},Object(V.a)(z,x,(function(){return!0})),Object(V.a)(z,v,(function(){return!1})),Object(V.a)(z,C,(function(){return!1})),Object(V.a)(z,_,(function(){return!0})),Object(V.a)(z,g,(function(){return!1})),Object(V.a)(z,D,(function(){return!1})),Object(V.a)(z,L,(function(){return!1})),Object(V.a)(z,w,(function(){return!1})),z)),Y=Object(m.c)(null,(B={},Object(V.a)(B,x,(function(){return null})),Object(V.a)(B,C,(function(t,e){return e.payload})),Object(V.a)(B,_,(function(){return null})),Object(V.a)(B,D,(function(t,e){return e.payload})),Object(V.a)(B,y,(function(){return null})),Object(V.a)(B,w,(function(t,e){return e.payload})),B)),Z=Object(X.c)({items:H,filter:P,loading:W,error:Y}),$=c(33),tt=c.n($),et=c(9),ct=[].concat(Object(U.a)(Object(m.d)({serializableCheck:{ignoredActions:[et.a,et.f,et.b,et.c,et.d,et.e]}})),[tt.a]),nt=Object(m.a)({reducer:{contacts:Z},devTools:!1,middleware:ct});i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(s.a,{store:nt,children:Object(n.jsx)(I,{})})}),document.getElementById("root"))},7:function(t,e,c){t.exports={decor:"DecorContainer_decor__3vEMk",leftDecor:"DecorContainer_leftDecor__feTKk",rightDecor:"DecorContainer_rightDecor__pQt8n",circleDecor:"DecorContainer_circleDecor__3ukcw",innerDecor:"DecorContainer_innerDecor__etnjX",titleDecor:"DecorContainer_titleDecor__-yGKm"}},8:function(t,e,c){t.exports={text:"ContactsList_text__2umai",contactsList:"ContactsList_contactsList__3eO6n",contact:"ContactsList_contact__7p-AG",name:"ContactsList_name__1Cdjp",phone:"ContactsList_phone__2wv7E",btnDeleteContact:"ContactsList_btnDeleteContact__lVCQs"}}},[[64,1,2]]]);
//# sourceMappingURL=main.0620dcf5.chunk.js.map