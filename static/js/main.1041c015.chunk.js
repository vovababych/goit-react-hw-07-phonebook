(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{43:function(t,e,c){},63:function(t,e,c){"use strict";c.r(e);var n=c(1),a=c(0),r=c.n(a),o=c(12),i=c.n(o),s=c(6),u=(c(43),c(7)),j=c.n(u);var l=function(t){var e=t.title,c=t.children;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("section",{className:j.a.decor,children:[Object(n.jsx)("div",{className:j.a.leftDecor}),Object(n.jsx)("div",{className:j.a.rightDecor}),Object(n.jsx)("div",{className:j.a.circleDecor}),Object(n.jsxs)("div",{className:j.a.innerDecor,children:[Object(n.jsx)("h3",{className:j.a.titleDecor,children:e}),c]})]})})},b=c(20),f=c(19),O=c.n(f),d=c(31),h=c(11),p=c.n(h),m=c(2),x=Object(m.b)("contacts/fetchContactRequest"),v=Object(m.b)("contacts/fetchContactSuccess"),C=Object(m.b)("contacts/fetchContactError"),_=Object(m.b)("contacts/addContactRequest"),g=Object(m.b)("contacts/addContactSuccess"),D=Object(m.b)("contacts/addContactError"),L=Object(m.b)("contacts/deleteContactRequest"),y=Object(m.b)("contacts/deleteContactSuccess"),w=Object(m.b)("contacts/deleteContactError"),N=Object(m.b)("contacts/filter"),k=Object(m.b)("contacts/uniqName");p.a.defaults.baseURL="http://localhost:4040";var E=function(t){return t.contacts.items},S=function(t){return t.contacts.items.filter((function(e){return e.name.toLowerCase().includes(t.contacts.filter.toLowerCase())}))},F=function(t){return t.contacts.filter},q=function(t){return t.contacts.loading};var R=function(){var t=Object(a.useState)(""),e=Object(b.a)(t,2),c=e[0],r=e[1],o=Object(a.useState)(""),i=Object(b.a)(o,2),u=i[0],j=i[1],l=Object(s.c)(E),f=Object(s.b)(),O=function(t,e){return f(function(t,e){return function(c){var n={name:t,tel:e};c(_()),p.a.post("/contacts",n).then((function(t){return c(g(t.data))})).catch((function(t){return c(D(t))}))}}(t,e))},d=function(t){return!!l.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))?(alert("".concat(t," is already in contacts")),h(),!1):t&&u?f(k(t)):(alert("Empty field"),!1)},h=function(){r(""),j("")};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),d(c)){var e=function(t){var e=t.split("");return"+38 (".concat(e[0]).concat(e[1]).concat(e[2],") ").concat(e[3]).concat(e[4]).concat(e[5],"-").concat(e[6]).concat(e[7],"-").concat(e[8]).concat(e[9])}(u);O(c,e),h()}},autoComplete:"off",children:[Object(n.jsx)("input",{type:"text",name:"name",value:c,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",onChange:function(t){r(t.target.value)}}),Object(n.jsx)("input",{type:"tel",name:"tel",value:u,pattern:"[0-9]{10}",placeholder:"067 123 45 67",minLength:"10",maxLength:"10",onChange:function(t){j(t.target.value)}}),Object(n.jsx)("input",{type:"submit",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442"})]})})},A=c(8),G=c.n(A);var J=function(){var t=Object(s.b)();Object(a.useEffect)((function(){t(function(){var t=Object(d.a)(O.a.mark((function t(e){var c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(x()),t.prev=1,t.next=4,p.a.get("/contacts");case 4:c=t.sent,e(v(c.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(C(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())}),[]);var e=Object(s.c)(S),c=Object(s.c)(q),r=function(e){return t(function(t){return function(e){e(L(t)),p.a.delete("/contacts/".concat(t)).then((function(){return e(y(t))})).catch((function(t){return e(w(t))}))}}(e))};return Object(n.jsxs)(n.Fragment,{children:[!c&&e.length<1&&Object(n.jsx)("p",{className:G.a.text,children:"\u041d\u0435\u0442 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432"}),Object(n.jsx)("ul",{className:G.a.contactsList,children:e.length>0&&e.map((function(t){var e=t.id,c=t.name,a=t.tel;return Object(n.jsxs)("li",{className:G.a.contact,children:[Object(n.jsx)("span",{className:G.a.name,children:c}),Object(n.jsx)("span",{className:G.a.phone,children:Object(n.jsx)("a",{href:"tel:+".concat(a.toString().replace(/[^\d;]/g,"")),children:a})}),Object(n.jsx)("button",{className:G.a.btnDeleteContact,type:"button",onClick:function(){return r(e)},children:"x"})]},e)}))}),c&&Object(n.jsx)("h3",{children:" \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 ..."})]})};var K=function(){var t=Object(s.c)(F),e=Object(s.b)();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("input",{type:"text",name:"filter",value:t,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438 ...",onChange:function(t){return e(N(t.target.value))},autoComplete:"off"})})};var M,Q,T=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(l,{title:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u0430\u044f \u043a\u043d\u0438\u0433\u0430",children:Object(n.jsx)(R,{})}),Object(n.jsxs)(l,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432",children:[Object(n.jsx)(K,{}),Object(n.jsx)(J,{})]})]})},z=c(14),B=c(4),I=c(3),U=Object(m.c)([],(M={},Object(B.a)(M,v,(function(t,e){return e.payload})),Object(B.a)(M,g,(function(t,e){var c=e.payload;return[].concat(Object(z.a)(t),[c])})),Object(B.a)(M,y,(function(t,e){var c=e.payload;return t.filter((function(t){return t.id!==c}))})),Object(B.a)(M,k,(function(t){return t})),M)),V=Object(m.c)("",Object(B.a)({},N,(function(t,e){return e.payload}))),X=Object(m.c)(!1,(Q={},Object(B.a)(Q,x,(function(){return!0})),Object(B.a)(Q,v,(function(){return!1})),Object(B.a)(Q,C,(function(){return!1})),Object(B.a)(Q,_,(function(){return!0})),Object(B.a)(Q,g,(function(){return!1})),Object(B.a)(Q,D,(function(){return!1})),Object(B.a)(Q,y,(function(){return!1})),Object(B.a)(Q,w,(function(){return!1})),Q)),H=Object(I.c)({items:U,filter:V,loading:X}),P=c(32),W=c.n(P),Y=c(9),Z=[].concat(Object(z.a)(Object(m.d)({serializableCheck:{ignoredActions:[Y.a,Y.f,Y.b,Y.c,Y.d,Y.e]}})),[W.a]),$=Object(m.a)({reducer:{contacts:H},devTools:!1,middleware:Z});i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(s.a,{store:$,children:Object(n.jsx)(T,{})})}),document.getElementById("root"))},7:function(t,e,c){t.exports={decor:"DecorContainer_decor__3vEMk",leftDecor:"DecorContainer_leftDecor__feTKk",rightDecor:"DecorContainer_rightDecor__pQt8n",circleDecor:"DecorContainer_circleDecor__3ukcw",innerDecor:"DecorContainer_innerDecor__etnjX",titleDecor:"DecorContainer_titleDecor__-yGKm"}},8:function(t,e,c){t.exports={text:"ContactsList_text__2umai",contactsList:"ContactsList_contactsList__3eO6n",contact:"ContactsList_contact__7p-AG",name:"ContactsList_name__1Cdjp",phone:"ContactsList_phone__2wv7E",btnDeleteContact:"ContactsList_btnDeleteContact__lVCQs"}}},[[63,1,2]]]);
//# sourceMappingURL=main.1041c015.chunk.js.map